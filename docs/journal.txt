[2024-05-24 09:40:59 AM] Planning new reference group input
The goal is to allow users to specify multiple references per sample to be used for both variant calling and phylogenetic analyses.

A new input spreadsheet with one row per referene and the following columns:
* id: unique identifier for the refernece input (path, accession, etc). The sample ID / reference ID combination must be unique, but this can be repeated to use the same reference for multiple samples. If not supplied, an ID will be automatically generated from the `name` or input path/accession/query.
* name: Short human-readable label, ideally starting with a latin binomial species name, used in figures and tables in the pipeline output. If not supplied, the sample ID will be used.
* description: Longer label for the reference, used in figures and tables in the pipeline output. If this is not supplied, the value of `name` will be used.
* group_id: The group the reference is a part of. This ID is used in the sample data spreadsheet to identify a group of references. References can be assigned to more than one group by seperating group IDs with semicolons (;). The id of the reference is always added automatically as a group ID, so individual referneces can also be referred to in the sample data spreadsheet.
* path: The local file path or URL to a reference assembly. If supplied, `ncbi_accession` and `ncbi_query` must be empty.
* ncbi_accession: The NCBI accession ID for a reference assembly to download. If supplied, `path` and `ncbi_query` must be empty.
* ncbi_query: An NCBI query used to search for references to download. The `id`, `name`, and `description` fields cannot have values since they will be automatically filled in based on download data. If supplied, `ncbi_accession` and `path` must be empty.
* primary_usage: One of "excluded", "optional", or "required". Controls how this reference is used in cases where a single "best" reference is required, such as read mapping to call variants.
* contextual_usage: One of "excluded", "optional", "required", or "exclusive". Controls how this reference is used in cases where multiple references are used to provide context, such as in phylogenetic analyses.
* color_by: The names of one or more other columns in this spreadsheet (usually custom user-specific metadata) delimited by semicolons (;) containing data used to color reference labels in output reports.
* enabled: TRUE/FALSE. Whether or not to use this reference. This can be used to prevent a refernece to be used without deleting its data from the spreadsheet.


The definations of the values of the `*_usage` columns:
* excluded: Do not use this refernece. This is primarily useful for references defined using the `ncbi_accession` and `ncbi_query` columns.
* optional: The reference will be considered when selecting references, but not nessesarily used.
* required: The reference will always be included, but other references might be as well.
* exclusive: Only references marked exclusive will be used.


This will also result in changes to the sample data spreadsheet:
* id: The unique identifier for each sample. This will be used in file names to distinguish samples in the output. Each sample ID must correspond to a single set of sequence data (The `path`, `ncbi_accession`, and `ncbi_query` columns), although the same sequence data can be used by multiple different IDs. Any values that correspond to multiple different sets of sequence data or contain characters that cannot appear in file names (\/:*?"<>| .) will be modified automatically. If not supplied, it will be inferred from the names of input data.
* name: A human-readable label for the sample that is used in plots and tables. If not supplied, it will be inferred from the names of `sample_id`.
* description: A longer human-readable label used in plots and tables. If not supplied, it will be equal to the `name` value
* path: Path to a local file or a URL. For paired-end data, like that produced by Illumina sequencers, supply the forward read path here and the revese in the `path_2` column. If this is supplied, the `ncbi_accession` and `ncbi_query` columns must be empty.
* path_2: Path to short read FASTQs like that produced by Illumina. This is used for the reverse read's data when paired-end sequencing is used. This can be a local file path or a URL to an online location.
* ncbi_accession: The NCBI accession for the reads to be automatically downloaded. If supplied, the `path` and `ncbi_query` columns must be empty.
* ncbi_query: The NCBI search query to use to automatically find and download reads. If supplied, the `ncbi_accession` and `path` columns must be empty.
* type: The type of sequencing supplied in the `path`, `ncbi_accession`, or `ncbi_query` column. One of "ilumina", "pacbio", or "nanopore".
* reference_id: The unique identifier for each user-defined reference genome or group of genomes. This must be values that occur in the `id` or `group_id` columns in the reference input spreadsheet.
* group: How to group samples into reports. For every unique value in this column a report will be generated. Samples can be assigned to multiple reports by separating group IDs by `;`. For example `all;subset` will put the sample in both `all` and `subset` report groups. If not included, all samples will be
* color_by: The names of user-specific columns (not usually any of the ones described here) containing variables to base the color of some plots by (e.g. the minimum spanning network). If not include, plots will not be colored.
* enabled: TRUE/FALSE. Whether or not to use this sample. This can be used to prevent a sample to be used without deleting its data from the spreadsheet.
